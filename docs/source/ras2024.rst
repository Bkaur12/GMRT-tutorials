RAS-2024
==============
Instructions for the RAS-2024 participants following the tutorials in the E-lab are provided here.
---------------------

Login to the machine using the username and password provided.

Data areas
---------------------
Information about the file structure:

.. code-block:: 
   
   cd /data
   
The folder /data contains the following files:

carta-v4.1.0-x86_64.AppImage, 
casa-release-5.6.0-60.el7,  
pulsar_timing,
casa-6.6.4-34-py3.8.el7,       
CASA-tutorial-data,     
start.sh,
casadata,              
pgplot.xwd,         
ugmrt_pb

DO NOT modify the files in this folder (/data).

The space for carrying out the data analysis is: /data1. 
Create a folder for data analysis, for example:

.. code-block::

   mkdir /data1/continuum_analysis

This will be the directory where you will analyse the data.


Setting up CASA:
-----------------
When you first setup CASA you need create a config file as follows:

.. code-block::

   vi ~/.casa/config.py

Insert 'i' and type the following lines:

.. code-block::

   measurespath = "/data/casadata"
   # turn off all auto updates of data
   measures_auto_update = False
   data_auto_update = False


Press ESC and then give the command 

.. code-block::

   :wq! 

This will save and exit the file.

Go to the directory where you want to analyse the data and open CASA as follows. 

.. code-block::

   cd /data1/continuum_analysis
   source start.sh        
   casa

You should see the ipython prompt and a logger window. 
You can start to follow the tutorial.

For subsequent usage, you only need to use the command casa to start CASA. The log files 
will be stored at the location where you start the CASA from. Therefore,
you should first navigate to the folder where you want to analyse your data (e. g. cd /data1/continuum_analysis) 
and then give the command casa.

Location of the data for the tutorials
-----------------

.. code-block::

   cd /data/CASA-tutorial-data
   ls

SGRB-DATA.FITS are the data for the continuum tutorial and
1543+480.FITS are the data for the spectral line tutorial.

In the task 'importgmrt' provide the full
path, fitsfile ='/data/CASA-tutorial-data/SGRB-DATA.FITS'.
Follow the instructions in the tutorial to proceed.

Goals for individual tutorial sessions
-----------------

21 Nov 2024: 17:00 - 18:30 (Data visualisation and flagging)
-----------------

1. Login to the desktop and set up CASA.

2. Start to follow the "Continuum data reduction" tutorial. Open the CASA documentation int he browser and read the documentation for every task carefully before running the task.

3. You have been provided with the FITS file already, so you start from the FITS to MS conversion step.

4. In the task 'importgmrt' remember to provide the path to the data as instructed above.

5. Use the task 'listobs' and learn about the data (calibrators, target source, observing frequency, bandwidth, observing time). Calculate the expected rms sensitivity in the image.

6. Use the task 'plotms' - familiarise yourself with the GUI options. If you try to load the entire dataset, the task may crash. Thus learn to make an informed choice of data for plotting.

7. Find the non-working antennas. Follow the section on "Flagging" to flag them.

22 Nov 2024: 15:30 - 18:00 (Flagging, Calibration)
-----------------

1. Keep CASA documentation open in a browser to read about the tasks that you will be running.

2. Finish flagging and proceed to calibration.

3. Follow the steps for calibration and apply the calibration to the calibrator sources.

4. Do additional flagging based on the visualization of the calibrated data on calibrators.

5. You can rerun the calibration steps - you need to give new names to the gain tables.

6. Apply calibration to the target source and examine that data.

7. Do additional flagging on the calibrated target source data.






